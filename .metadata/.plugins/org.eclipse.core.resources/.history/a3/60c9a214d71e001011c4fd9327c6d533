package torneo_futbal;

import javax.swing.JOptionPane;

public abstract class Usuario extends Persona {
	
	protected String email;
    protected String rol;

    public Usuario(String nombre, String apellido, String email, String rol) {
        super(nombre, apellido);
        this.email = email;
        this.rol = rol;
    }

	public String getEmail() {
		return email;
	}

	public String getRol() {
		return rol;
	}
    
    
	@Override
	public void mostrarMenu() {
	    boolean salir = false;

	    while (!salir) {
	        String[] opciones = {
	            "Seleccionar disciplina deportiva y gestionar el club",
	            "Comprar entradas para partidos",
	            "Salir"
	        };

	        String seleccion = (String) JOptionPane.showInputDialog(
	                null,
	                "Menú Usuario:\n" +
	                "Seleccione una opción:",
	                "Menú Usuario",
	                JOptionPane.QUESTION_MESSAGE,
	                null,
	                opciones,
	                opciones[0]
	        );

	        if (seleccion == null || seleccion.equals("Salir")) {
                salir = true;
            } else {
                procesarOpcion(seleccion);
            }
        }
    }
	
	private void procesarOpcion(String seleccion) {
	    switch (seleccion) {
	    	case "Seleccionar disciplina deportiva y gestionar el club" -> mostrarSubmenuClub();
	        case "Comprar entradas para partidos" -> mostrarSubmenuCompraEntradas();
	        default -> JOptionPane.showMessageDialog(null, "Opción no válida.");
	    }
	 }
	
	 private void mostrarSubmenuClub() {
		 String[] opciones = {
			"Ver actividades de todos los clubes",
	        "Consultar fechas y horarios disponibles",
	        "Reservar / modificar / cancelar reserva",
	        "Volver"
		 };
		 
		 String seleccion = (String) JOptionPane.showInputDialog(
		            null,
		            "Submenú - Gestión del Club",
		            "Opciones",
		            JOptionPane.QUESTION_MESSAGE,
		            null,
		            opciones,
		            opciones[0]
		    );
		 	
		 	if (seleccion != null && !seleccion.equals("Volver")) {
		 		JOptionPane.showMessageDialog(null,
		                "Has seleccionado: " + seleccion + "\n(Función aún no implementada)");
		    }
		}
	 private void mostrarSubmenuCompraEntradas() {
		    String[] opciones = {
		        "Ver próximos partidos",
		        "Elegir categoría de entrada",
		        "Comprar entrada",
		        "Solicitar reembolso",
		        "Volver"
		    };

		    String seleccion = (String) JOptionPane.showInputDialog(
		            null,
		            "Submenú - Compra de Entradas",
		            "Opciones",
		            JOptionPane.QUESTION_MESSAGE,
		            null,
		            opciones,
		            opciones[0]
		    );

		    if (seleccion != null && !seleccion.equals("Volver")) {
		        JOptionPane.showMessageDialog(null,
		                "Has seleccionado: " + seleccion + "\n(Función aún no implementada)");
		    }
		}
	 
}